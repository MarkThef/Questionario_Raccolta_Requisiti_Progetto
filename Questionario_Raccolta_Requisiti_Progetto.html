<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionario Raccolta Requisiti - Sviluppo Software</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            background-attachment: fixed;
            min-height: 100vh;
            color: #ffffff;
            overflow-x: hidden;
        }

        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 300px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 30px 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .logo {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .logo h1 {
            font-size: 1.5em;
            font-weight: 700;
            background: linear-gradient(135deg, #ffffff 0%, #10b981 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
        }

        .logo p {
            font-size: 0.9em;
            opacity: 0.8;
            font-weight: 400;
        }

        .progress-container {
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
            width: 9.09%;
            transition: width 0.3s ease;
            border-radius: 3px;
        }

        .progress-text {
            text-align: center;
            font-size: 0.9em;
            font-weight: 500;
            opacity: 0.9;
        }

        .step-list {
            list-style: none;
        }

        .step-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .step-item.active {
            background: rgba(16, 185, 129, 0.2);
            border-color: rgba(16, 185, 129, 0.5);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.2);
        }

        .step-item.completed {
            background: rgba(16, 185, 129, 0.1);
            opacity: 0.7;
        }

        .step-item:hover:not(.active) {
            background: rgba(255, 255, 255, 0.05);
        }

        .step-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9em;
            margin-right: 12px;
            transition: all 0.3s ease;
        }

        .step-item.active .step-number {
            background: #10b981;
            color: #ffffff;
        }

        .step-item.completed .step-number {
            background: #10b981;
            color: #ffffff;
        }

        .step-item.completed .step-number::before {
            content: "‚úì";
        }

        .step-title {
            font-weight: 500;
            font-size: 0.95em;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 300px;
            padding: 40px;
            position: relative;
        }

        .step-container {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .step-container.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .step-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .step-header h2 {
            font-size: 3em;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #10b981 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .step-header p {
            font-size: 1.2em;
            opacity: 0.8;
            font-weight: 400;
        }

        .content-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            margin: 0 auto;
        }

        .intro-card {
            text-align: center;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .intro-card h3 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #10b981;
        }

        .intro-card p {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 30px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 15px;
            color: #ffffff;
            font-size: 1.1em;
        }

        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group textarea {
            width: 100%;
            padding: 18px 24px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            font-size: 16px;
            font-family: inherit;
            color: #ffffff;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .form-group input[type="text"]::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="date"]:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #10b981;
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2);
            transform: translateY(-2px);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
            line-height: 1.6;
        }

        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 18px;
            padding: 20px 25px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            transition: all 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .checkbox-item:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: #10b981;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.2);
        }

        .checkbox-item input[type="checkbox"],
        .checkbox-item input[type="radio"] {
            width: 24px;
            height: 24px;
            accent-color: #10b981;
            cursor: pointer;
        }

        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            font-weight: 500;
            flex: 1;
            color: #ffffff;
        }

        .checkbox-item input[type="text"] {
            margin-left: 15px;
            width: 200px;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: #ffffff;
            font-size: 14px;
        }

        .steps-input-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .step-input {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .step-input .step-number-input {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 1.1em;
        }

        .step-input input {
            flex: 1;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-button {
            padding: 15px 30px;
            border-radius: 12px;
            border: none;
            font-family: inherit;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-prev {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-prev:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-3px);
        }

        .btn-next {
            background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
            color: white;
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }

        .btn-next:hover {
            transform: translateX(3px);
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }

        .btn-save {
            background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
            color: white;
            padding: 18px 40px;
            font-size: 18px;
            box-shadow: 0 15px 35px rgba(16, 185, 129, 0.4);
        }

        .btn-save:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 25px 50px rgba(16, 185, 129, 0.5);
        }

        .required {
            color: #ff6b6b;
            font-weight: 700;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .sidebar {
                width: 250px;
            }
            
            .main-content {
                margin-left: 250px;
                padding: 30px 20px;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .main-content {
                margin-left: 0;
                padding: 20px 15px;
            }
            
            .content-card {
                padding: 30px 20px;
            }
            
            .step-header h2 {
                font-size: 2.2em;
            }
            
            .checkbox-group {
                grid-template-columns: 1fr;
            }
            
            .navigation-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-button {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .step-header h2 {
                font-size: 1.8em;
            }
            
            .checkbox-item input[type="text"] {
                width: 150px;
                font-size: 12px;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h1>Questionario</h1>
                <p>Raccolta Requisiti</p>
            </div>

            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Step 1 di 11</div>
            </div>

            <ul class="step-list">
                <li class="step-item active" data-step="0">
                    <div class="step-number">1</div>
                    <div class="step-title">Introduzione</div>
                </li>
                <li class="step-item" data-step="1">
                    <div class="step-number">2</div>
                    <div class="step-title">Informazioni Base</div>
                </li>
                <li class="step-item" data-step="2">
                    <div class="step-number">3</div>
                    <div class="step-title">Il Tuo Progetto</div>
                </li>
                <li class="step-item" data-step="3">
                    <div class="step-number">4</div>
                    <div class="step-title">Situazione Attuale</div>
                </li>
                <li class="step-item" data-step="4">
                    <div class="step-number">5</div>
                    <div class="step-title">I Dati</div>
                </li>
                <li class="step-item" data-step="5">
                    <div class="step-number">6</div>
                    <div class="step-title">Come Deve Funzionare</div>
                </li>
                <li class="step-item" data-step="6">
                    <div class="step-number">7</div>
                    <div class="step-title">L'Interfaccia</div>
                </li>
                <li class="step-item" data-step="7">
                    <div class="step-number">8</div>
                    <div class="step-title">Ambiente Tecnico</div>
                </li>
                <li class="step-item" data-step="8">
                    <div class="step-number">9</div>
                    <div class="step-title">Priorit√† e Tempistiche</div>
                </li>
                <li class="step-item" data-step="9">
                    <div class="step-number">10</div>
                    <div class="step-title">Domande Finali</div>
                </li>
                <li class="step-item" data-step="10">
                    <div class="step-number">11</div>
                    <div class="step-title">Riepilogo</div>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <form id="requirementsForm">
                <!-- Step 0: Introduzione -->
                <div class="step-container active" data-step="0">
                    <div class="step-header">
                        <h2>Benvenuto!</h2>
                        <p>Iniziamo a raccogliere i requisiti per il tuo progetto software</p>
                    </div>
                    <div class="content-card intro-card">
                        <h3>üöÄ Sviluppo Software Desktop e Automazioni Python</h3>
                        <p>Questo questionario mi aiuter√† a comprendere esattamente cosa ti serve per creare la soluzione software perfetta per te.</p>
                        <p><strong>Istruzioni:</strong> Naviga tra le sezioni, compila tutti i campi e alla fine potrai scaricare il questionario compilato da inviarmi via email.</p>
                        <p>Il processo richieder√† circa 10-15 minuti. Prendiamoci il tempo necessario per fare le cose per bene! üí™</p>
                    </div>
                    <div class="navigation-buttons">
                        <div></div>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Iniziamo! <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 1: Informazioni Base -->
                <div class="step-container" data-step="1">
                    <div class="step-header">
                        <h2>üë§ Informazioni Base</h2>
                        <p>Iniziamo con le informazioni essenziali del progetto</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label for="cliente">Cliente <span class="required">*</span></label>
                            <input type="text" id="cliente" name="cliente" required placeholder="Nome o azienda del cliente">
                        </div>
                        <div class="form-group">
                            <label for="progetto">Nome Progetto</label>
                            <input type="text" id="progetto" name="progetto" placeholder="Come vuoi chiamare questo progetto?">
                        </div>
                        <div class="form-group">
                            <label for="data">Data</label>
                            <input type="date" id="data" name="data">
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Il Tuo Progetto -->
                <div class="step-container" data-step="2">
                    <div class="step-header">
                        <h2>üéØ Il Tuo Progetto</h2>
                        <p>Descrivi cosa vuoi ottenere e che tipo di soluzione ti serve</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label for="descrizione">Cosa vuoi che faccia il software? (descrivi in poche righe)</label>
                            <textarea id="descrizione" name="descrizione" rows="6" placeholder="Descrivi in modo semplice cosa vorresti che facesse il software..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Che tipo di progetto ti serve?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="automazione" name="tipoProgetto" value="Automazione di attivit√† ripetitive">
                                    <label for="automazione">Automazione di attivit√† ripetitive</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="software_desktop" name="tipoProgetto" value="Software desktop per gestire dati">
                                    <label for="software_desktop">Software desktop per gestire dati</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="elaborazione_file" name="tipoProgetto" value="Elaborazione automatica di file">
                                    <label for="elaborazione_file">Elaborazione automatica di file (Excel, CSV, PDF...)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="integrazione" name="tipoProgetto" value="Integrazione tra diversi sistemi/software">
                                    <label for="integrazione">Integrazione tra diversi sistemi/software</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="dashboard" name="tipoProgetto" value="Dashboard per visualizzare dati">
                                    <label for="dashboard">Dashboard per visualizzare dati</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="altro_progetto" name="tipoProgetto" value="altro">
                                    <label for="altro_progetto">Altro:</label>
                                    <input type="text" id="altro_progetto_text" name="altroProgetto" placeholder="Specifica...">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 3: Situazione Attuale -->
                <div class="step-container" data-step="3">
                    <div class="step-header">
                        <h2>üìä La Situazione Attuale</h2>
                        <p>Raccontami come funziona adesso e quali sono i problemi</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label for="processo_attuale">Come gestisci attualmente questo processo?</label>
                            <textarea id="processo_attuale" name="processoAttuale" rows="4" placeholder="Descrivi come fai attualmente le cose che vuoi automatizzare..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="tempo_impiegato">Quanto tempo ci impieghi ogni volta?</label>
                            <textarea id="tempo_impiegato" name="tempoImpiegato" rows="2" placeholder="Es: 2 ore, 30 minuti, tutta la mattina..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="frequenza">Quante volte al giorno/settimana/mese lo fai?</label>
                            <textarea id="frequenza" name="frequenza" rows="2" placeholder="Es: ogni giorno, 3 volte a settimana, una volta al mese..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="problemi">Qual √® la parte pi√π noiosa/problematica?</label>
                            <textarea id="problemi" name="problemi" rows="4" placeholder="Cosa ti fa perdere pi√π tempo o ti crea pi√π stress?"></textarea>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 4: I Dati -->
                <div class="step-container" data-step="4">
                    <div class="step-header">
                        <h2>üíæ I Dati</h2>
                        <p>Parliamo dei dati con cui devi lavorare</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label>Con che tipo di dati lavori?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="excel_csv" name="tipoDati" value="File Excel/CSV">
                                    <label for="excel_csv">File Excel/CSV</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="database" name="tipoDati" value="Database">
                                    <label for="database">Database</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="pdf" name="tipoDati" value="File PDF">
                                    <label for="pdf">File PDF</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="email" name="tipoDati" value="Email e allegati">
                                    <label for="email">Email e allegati</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="web_api" name="tipoDati" value="Siti web/API">
                                    <label for="web_api">Siti web/API</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="altri_file" name="tipoDati" value="altro">
                                    <label for="altri_file">Altri file:</label>
                                    <input type="text" id="altri_file_text" name="altriFile" placeholder="Specifica...">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="origine_dati">Da dove arrivano questi dati?</label>
                            <textarea id="origine_dati" name="origineDati" rows="4" placeholder="Es: li scarico da un sito, li ricevo via email, li genero manualmente..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="elaborazione_dati">Cosa devi farci? (calcoli, grafici, report, invio email...)</label>
                            <textarea id="elaborazione_dati" name="elaborazioneDati" rows="4" placeholder="Descrivi cosa devi fare con questi dati..."></textarea>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 5: Come Deve Funzionare -->
                <div class="step-container" data-step="5">
                    <div class="step-header">
                        <h2>‚öôÔ∏è Come Deve Funzionare</h2>
                        <p>Definiamo il flusso di lavoro ideale</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label>Descrivimi il flusso ideale step-by-step:</label>
                            <div class="steps-input-group">
                                <div class="step-input">
                                    <div class="step-number-input">1</div>
                                    <input type="text" name="step1" placeholder="Primo step...">
                                </div>
                                <div class="step-input">
                                    <div class="step-number-input">2</div>
                                    <input type="text" name="step2" placeholder="Secondo step...">
                                </div>
                                <div class="step-input">
                                    <div class="step-number-input">3</div>
                                    <input type="text" name="step3" placeholder="Terzo step...">
                                </div>
                                <div class="step-input">
                                    <div class="step-number-input">4</div>
                                    <input type="text" name="step4" placeholder="Quarto step...">
                                </div>
                                <div class="step-input">
                                    <div class="step-number-input">5</div>
                                    <input type="text" name="step5" placeholder="Quinto step...">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Deve funzionare automaticamente o con la tua supervisione?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="automatico" name="modalitaFunzionamento" value="Completamente automatico">
                                    <label for="automatico">Completamente automatico</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="semi_automatico" name="modalitaFunzionamento" value="Semi-automatico">
                                    <label for="semi_automatico">Semi-automatico (avvii tu, fa tutto da solo)</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="interattivo" name="modalitaFunzionamento" value="Interattivo">
                                    <label for="interattivo">Interattivo (ti chiede conferme/input)</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Quando deve essere eseguito?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="manuale" name="esecuzione" value="Quando lo avvio manualmente">
                                    <label for="manuale">Quando lo avvio manualmente</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="programmato" name="esecuzione" value="A orari programmati">
                                    <label for="programmato">A orari programmati</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="trigger" name="esecuzione" value="Quando arriva un file/email">
                                    <label for="trigger">Quando arriva un file/email</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="altro_esecuzione" name="esecuzione" value="altro">
                                    <label for="altro_esecuzione">Altro:</label>
                                    <input type="text" id="altro_esecuzione_text" name="altroEsecuzione" placeholder="Specifica...">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 6: L'Interfaccia -->
                <div class="step-container" data-step="6">
                    <div class="step-header">
                        <h2>üñ•Ô∏è L'Interfaccia</h2>
                        <p>Come deve apparire e funzionare l'interfaccia utente</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label>Chi user√† il software?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="solo_tu" name="utenti" value="Solo tu">
                                    <label for="solo_tu">Solo tu</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="tu_colleghi" name="utenti" value="Tu + altri colleghi">
                                    <label for="tu_colleghi">Tu + altri colleghi</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="persone_non_tecniche" name="utenti" value="Persone non tecniche">
                                    <label for="persone_non_tecniche">Persone non tecniche</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Come preferiresti l'interfaccia?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="semplice" name="interfaccia" value="Semplice, con pochi pulsanti">
                                    <label for="semplice">Semplice, con pochi pulsanti</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="ricca" name="interfaccia" value="Ricca di opzioni e controlli">
                                    <label for="ricca">Ricca di opzioni e controlli</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="dialoghi" name="interfaccia" value="Solo finestre di dialogo quando serve">
                                    <label for="dialoghi">Solo finestre di dialogo quando serve</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="automatica_ui" name="interfaccia" value="Principalmente automatica, senza interfaccia">
                                    <label for="automatica_ui">Principalmente automatica, senza interfaccia</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="grafici">Ti servono grafici o visualizzazioni?</label>
                            <textarea id="grafici" name="grafici" rows="4" placeholder="Descrivi se hai bisogno di grafici, tabelle, dashboard..."></textarea>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 7: Ambiente Tecnico -->
                <div class="step-container" data-step="7">
                    <div class="step-header">
                        <h2>üíª Ambiente Tecnico</h2>
                        <p>Informazioni sul tuo setup tecnico</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label>Sistema operativo:</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="windows" name="sistemaOperativo" value="Windows">
                                    <label for="windows">Windows</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="mac" name="sistemaOperativo" value="Mac">
                                    <label for="mac">Mac</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="linux" name="sistemaOperativo" value="Linux">
                                    <label for="linux">Linux</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="integrazione_software">Software/sistemi che usi e con cui deve integrarsi:</label>
                            <textarea id="integrazione_software" name="integrazioneSoftware" rows="4" placeholder="Es: Excel, Outlook, SAP, software gestionali, siti web specifici..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Hai gi√† Python installato?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="python_si" name="python" value="S√¨">
                                    <label for="python_si">S√¨</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="python_no" name="python" value="No">
                                    <label for="python_no">No</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="python_non_so" name="python" value="Non so">
                                    <label for="python_non_so">Non so</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 8: Priorit√† e Tempistiche -->
                <div class="step-container" data-step="8">
                    <div class="step-header">
                        <h2>‚è±Ô∏è Priorit√† e Tempistiche</h2>
                        <p>Cosa √® pi√π importante e quando ti serve</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label for="funzionalita_importante">Qual √® la funzionalit√† pi√π importante?</label>
                            <textarea id="funzionalita_importante" name="funzionalitaImportante" rows="3" placeholder="Se dovessi scegliere una sola cosa che il software deve fare bene..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="tempi">Entro quando ti servirebbe?</label>
                            <textarea id="tempi" name="tempi" rows="2" placeholder="Es: entro fine mese, non c'√® fretta, il prima possibile..."></textarea>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 9: Domande Finali -->
                <div class="step-container" data-step="9">
                    <div class="step-header">
                        <h2>‚ùì Domande Finali</h2>
                        <p>Ultimi dettagli importanti</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label>Il software deve essere facilmente modificabile in futuro?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="modificabile_si" name="modificabile" value="S√¨, prevedo spesso cambiamenti">
                                    <label for="modificabile_si">S√¨, prevedo spesso cambiamenti</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="modificabile_stabile" name="modificabile" value="Preferisco qualcosa di stabile">
                                    <label for="modificabile_stabile">Preferisco qualcosa di stabile</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="modificabile_non_so" name="modificabile" value="Non so">
                                    <label for="modificabile_non_so">Non so</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Ti serve supporto dopo la consegna?</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="supporto_bug" name="supporto" value="Solo per eventuali bug">
                                    <label for="supporto_bug">Solo per eventuali bug</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="supporto_modifiche" name="supporto" value="Anche per piccole modifiche">
                                    <label for="supporto_modifiche">Anche per piccole modifiche</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="supporto_no" name="supporto" value="Non serve">
                                    <label for="supporto_no">Non serve</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="altre_informazioni">Altre informazioni o richieste particolari:</label>
                            <textarea id="altre_informazioni" name="altreInformazioni" rows="6" placeholder="Qualsiasi altra cosa che pensi possa essere utile sapere..."></textarea>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-next" onclick="nextStep()">
                            Avanti <span>‚Üí</span>
                        </button>
                    </div>
                </div>

                <!-- Step 10: Riepilogo -->
                <div class="step-container" data-step="10">
                    <div class="step-header">
                        <h2>üìù Riepilogo Veloce</h2>
                        <p>Un riassunto finale per concludere</p>
                    </div>
                    <div class="content-card">
                        <div class="form-group">
                            <label for="obiettivo">In una frase, cosa vuoi ottenere:</label>
                            <textarea id="obiettivo" name="obiettivo" rows="4" placeholder="Il tuo obiettivo principale con questo software..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="vantaggio">Il principale vantaggio che ti aspetti:</label>
                            <textarea id="vantaggio" name="vantaggio" rows="4" placeholder="Cosa cambier√† in meglio quando avrai questo software..."></textarea>
                        </div>
                    </div>
                    <div class="navigation-buttons">
                        <button type="button" class="nav-button btn-prev" onclick="prevStep()">
                            <span>‚Üê</span> Indietro
                        </button>
                        <button type="button" class="nav-button btn-save" onclick="saveQuestionnaire()">
                            üíæ Salva Questionario
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Imposta la data di oggi automaticamente
        document.getElementById('data').value = new Date().toISOString().split('T')[0];

        // LOGICA ORIGINALE IDENTICA - Solo aggiunta navigazione step
        let currentStep = 0;
        const totalSteps = 11;

        function updateProgress() {
            const progress = ((currentStep) / (totalSteps - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Step ${currentStep + 1} di ${totalSteps}`;
        }

        function updateStepNavigation() {
            // Hide all steps
            document.querySelectorAll('.step-container').forEach(step => {
                step.classList.remove('active');
            });
            
            // Show current step
            const currentStepElement = document.querySelector(`.step-container[data-step="${currentStep}"]`);
            if (currentStepElement) {
                currentStepElement.classList.add('active');
            }
            
            // Update sidebar
            document.querySelectorAll('.step-item').forEach((item, index) => {
                item.classList.remove('active', 'completed');
                if (index === currentStep) {
                    item.classList.add('active');
                } else if (index < currentStep) {
                    item.classList.add('completed');
                }
            });
            
            updateProgress();
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateStepNavigation();
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                updateStepNavigation();
            }
        }

        // Sidebar navigation
        document.querySelectorAll('.step-item').forEach((item, index) => {
            item.addEventListener('click', () => {
                currentStep = index;
                updateStepNavigation();
            });
        });

        // LOGICA ORIGINALE IDENTICA
        function saveQuestionnaire() {
            const form = document.getElementById('requirementsForm');
            const formData = new FormData(form);
            
            // Verifica che il nome cliente sia inserito
            const cliente = formData.get('cliente');
            if (!cliente || cliente.trim() === '') {
                alert('Per favore inserisci il nome del cliente prima di salvare.');
                return;
            }

            // Raccogli tutti i dati del form
            const data = {};
            
            // Campi singoli
            for (let [key, value] of formData.entries()) {
                if (data[key]) {
                    // Se esiste gi√†, trasforma in array
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            }

            // Raccogli i checkboxes multipli
            const checkboxGroups = ['tipoProgetto', 'tipoDati', 'esecuzione', 'supporto'];
            checkboxGroups.forEach(group => {
                const checkboxes = document.querySelectorAll(`input[name="${group}"]:checked`);
                const values = [];
                checkboxes.forEach(cb => {
                    if (cb.value === 'altro') {
                        const textInput = document.getElementById(`${cb.id}_text`);
                        if (textInput && textInput.value.trim()) {
                            values.push(`Altro: ${textInput.value.trim()}`);
                        }
                    } else {
                        values.push(cb.value);
                    }
                });
                data[group] = values;
            });

            // Raccogli gli step
            const steps = [];
            for (let i = 1; i <= 5; i++) {
                const step = formData.get(`step${i}`);
                if (step && step.trim()) {
                    steps.push(`${i}. ${step.trim()}`);
                }
            }
            data.steps = steps;

            // Crea il nome del file
            const today = new Date();
            const dateStr = today.toISOString().split('T')[0];
            const clienteClean = cliente.replace(/[^a-zA-Z0-9]/g, '_');
            const filename = `Questionario_${clienteClean}_${dateStr}.pdf`;
            
            // Genera e scarica il PDF
            generatePDF(data, filename);
        }

        function generatePDF(data, filename) {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            const today = new Date().toLocaleDateString('it-IT');
            let y = 20;
            const lineHeight = 8;
            const marginLeft = 20;
            const pageWidth = doc.internal.pageSize.width;
            const maxWidth = pageWidth - 40;

            function addSectionTitle(title) {
                y += 8;
                
                // Sfondo colorato per il titolo
                doc.setFillColor(59, 130, 246);
                doc.rect(marginLeft - 5, y - 6, maxWidth + 10, 10, 'F');
                
                doc.setTextColor(255, 255, 255);
                doc.setFont('helvetica', 'bold');
                doc.setFontSize(11);
                doc.text(title, marginLeft, y);
                
                doc.setTextColor(0, 0, 0);
                y += 8;
            }

            function addField(label, value) {
                if (!value || value === '' || (Array.isArray(value) && value.length === 0)) {
                    return;
                }
                
                y += 2;
                doc.setFont('helvetica', 'bold');
                doc.setFontSize(9);
                doc.setTextColor(51, 65, 85);
                doc.text(label + ':', marginLeft, y);
                y += 5;
                
                doc.setFont('helvetica', 'normal');
                doc.setFontSize(9);
                doc.setTextColor(0, 0, 0);
                
                let content = '';
                if (Array.isArray(value)) {
                    content = value.join(' ‚Ä¢ ');
                } else {
                    content = value.toString();
                }
                
                if (content.trim() !== '') {
                    const lines = doc.splitTextToSize(content, maxWidth - 10);
                    lines.forEach(line => {
                        if (y > 270) {
                            doc.addPage();
                            y = 20;
                        }
                        doc.text('  ' + line, marginLeft, y);
                        y += lineHeight - 1;
                    });
                }
                y += 3;
            }

            // Header del PDF
            doc.setFillColor(30, 41, 59);
            doc.rect(0, 0, pageWidth, 45, 'F');
            doc.setTextColor(255, 255, 255);
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(18);
            doc.text('QUESTIONARIO RACCOLTA REQUISITI', marginLeft, 25);
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text('Sviluppo Software Desktop e Automazioni Python', marginLeft, 35);
            
            doc.setTextColor(0, 0, 0);
            y = 55;

            // Contenuto del questionario
            addSectionTitle('INFORMAZIONI BASE');
            addField('Cliente', data.cliente);
            addField('Progetto', data.progetto);
            addField('Data', data.data || today);

            addSectionTitle('IL TUO PROGETTO');
            addField('Descrizione del software', data.descrizione);
            addField('Tipo di progetto', data.tipoProgetto);

            addSectionTitle('LA SITUAZIONE ATTUALE');
            addField('Come gestisci attualmente questo processo', data.processoAttuale);
            addField('Tempo impiegato', data.tempoImpiegato);
            addField('Frequenza', data.frequenza);
            addField('Parte pi√π problematica', data.problemi);

            addSectionTitle('I DATI');
            addField('Tipo di dati', data.tipoDati);
            addField('Origine dati', data.origineDati);
            addField('Elaborazione necessaria', data.elaborazioneDati);

            addSectionTitle('COME DEVE FUNZIONARE');
            if (Array.isArray(data.steps) && data.steps.length > 0) {
                addField('Flusso step-by-step', data.steps);
            }
            addField('Modalit√† di funzionamento', data.modalitaFunzionamento);
            addField('Quando deve essere eseguito', data.esecuzione);

            addSectionTitle('L\'INTERFACCIA');
            addField('Utenti del software', data.utenti);
            addField('Tipo di interfaccia', data.interfaccia);
            addField('Grafici e visualizzazioni', data.grafici);

            addSectionTitle('AMBIENTE TECNICO');
            addField('Sistema operativo', data.sistemaOperativo);
            addField('Software per integrazione', data.integrazioneSoftware);
            addField('Python installato', data.python);

            addSectionTitle('PRIORITA E TEMPISTICHE');
            addField('Funzionalit√† pi√π importante', data.funzionalitaImportante);
            addField('Tempistiche', data.tempi);

            addSectionTitle('DOMANDE FINALI');
            addField('Software modificabile', data.modificabile);
            addField('Supporto post-consegna', data.supporto);
            addField('Altre informazioni', data.altreInformazioni);

            addSectionTitle('RIEPILOGO VELOCE');
            addField('Obiettivo principale', data.obiettivo);
            addField('Vantaggio atteso', data.vantaggio);

            // Footer professionale
            if (y > 250) {
                doc.addPage();
                y = 20;
            }
            y += 15;
            
            doc.setDrawColor(59, 130, 246);
            doc.setLineWidth(1);
            doc.line(marginLeft, y, pageWidth - marginLeft, y);
            y += 10;
            
            doc.setFillColor(248, 250, 252);
            doc.rect(marginLeft - 5, y - 3, maxWidth + 10, 15, 'F');
            
            doc.setFont('helvetica', 'bold');
            doc.setFontSize(10);
            doc.setTextColor(59, 130, 246);
            doc.text(`Questionario compilato il: ${today}`, marginLeft, y + 5);
            
            y += 12;
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(9);
            doc.setTextColor(100, 116, 139);
            doc.text('Invia questo file compilato via email per procedere con l\'analisi dei requisiti', marginLeft, y);

            // Salva il PDF
            doc.save(filename);
            
            alert(`‚úÖ Questionario PDF salvato con successo!\n\nFile: ${filename}\n\nüìß Per favore invia il file scaricato via email per procedere con l'analisi dei requisiti.`);
        }

        // Initialize
        updateStepNavigation();
    </script>
</body>
</html>
